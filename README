I used a lot of code from "http://beej.us/guide/bgnet/output/html/multipage/index.html" to understand how sockets work in c.

#define SSTR(x) static_cast< std::ostringstream & >( \
        ( std::ostringstream() << std::dec << x ) ).str()

http://stackoverflow.com/questions/5590381/easiest-way-to-convert-int-to-string-in-c
